title = mergeabort_title_049
cards = checkout commit-auto merge merge-abort

[description]

mergeabort_description_050

[setup]

echo "A new day is starting" > you

git add .
git commit -m "Start"

echo "Walking down the Main Lane." >> you

git add .
git commit -m "Main Lane"


git checkout HEAD~1

echo "Walking down the Side Lane." >> you

git add .
git commit -m "Side Lane"

git checkout HEAD~1

git branch -D main

[actions]

if test -f .git/MERGE_HEAD; then
    touch .git/secretfile
fi

[win]

# mergeabort_win_hint_052
test -f .git/secretfile

# mergeabort_win_hint_053
test -f .git/secretfile && ! test -f .git/MERGE_HEAD && ! git rev-parse HEAD^^

[congrats]

mergeabort_congrats_051
